<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HF-WS2812 Driver: ESP-IDF Logging System Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HF-WS2812 Driver<span id="projectnumber">&#160;0.1.0-dev</span>
   </div>
   <div id="projectbrief">HF-WS2812 ESP32 RMT Driver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_examples_2esp32_2scripts_2docs_2logging-system_2index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ESP-IDF Logging System Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md573"></a> This document provides comprehensive documentation for the ESP-IDF logging system, including log generation, management, analysis, and integration with all scripts.</p>
<h1><a class="anchor" id="autotoc_md574"></a>
üìã <b>Table of Contents</b></h1>
<h1><a class="anchor" id="autotoc_md575"></a>
üìã <b>Overview</b></h1>
<p>The ESP-IDF logging system provides comprehensive log capture, management, and analysis capabilities for all development operations. It features automatic log generation, intelligent organization, powerful search capabilities, and seamless integration with the build and flash systems.</p>
<h2><a class="anchor" id="autotoc_md576"></a>
<b>Core Features</b></h2>
<ul>
<li><b>Automatic Log Generation</b>: Built-in logging for all script operations</li>
<li><b>Intelligent Organization</b>: Structured log file naming and organization</li>
<li><b>Comprehensive Capture</b>: Complete capture of build, flash, and monitor output</li>
<li><b>Advanced Search</b>: Cross-log search and pattern matching capabilities</li>
<li><b>Automatic Rotation</b>: Smart log management with configurable retention</li>
</ul>
<h2><a class="anchor" id="autotoc_md577"></a>
<b>Key Capabilities</b></h2>
<ul>
<li>Automatic log file creation with timestamped naming</li>
<li>Cross-log search and pattern matching</li>
<li>Log statistics and analysis tools</li>
<li>Automatic log rotation and cleanup</li>
<li>Integration with all ESP32 development scripts</li>
<li>Professional log formatting and organization</li>
</ul>
<h1><a class="anchor" id="autotoc_md578"></a>
üèóÔ∏è <b>Architecture and Design</b></h1>
<h2><a class="anchor" id="autotoc_md579"></a>
<b>System Architecture</b></h2>
<div class="fragment"><div class="line">Script Execution ‚Üí Log Capture ‚Üí Log Storage ‚Üí Log Management ‚Üí Log Analysis</div>
<div class="line">      ‚Üì              ‚Üì            ‚Üì            ‚Üì              ‚Üì</div>
<div class="line">Build/Flash     Output        File System   Organization   Search/Stats</div>
<div class="line">Operations      Capture       Storage       &amp; Rotation     &amp; Analysis</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md580"></a>
<b>Component Interaction</b></h2>
<ul>
<li><b>Script Execution</b>: All scripts generate log output</li>
<li><b>Log Capture</b>: Automatic capture of stdout/stderr</li>
<li><b>Log Storage</b>: Organized file system storage</li>
<li><b>Log Management</b>: Automatic rotation and cleanup</li>
<li><b>Log Analysis</b>: Search, statistics, and reporting</li>
</ul>
<h2><a class="anchor" id="autotoc_md581"></a>
<b>Design Principles</b></h2>
<ul>
<li><b>Automatic Operation</b>: Logging works without user intervention</li>
<li><b>Comprehensive Coverage</b>: Captures all relevant output</li>
<li><b>Intelligent Organization</b>: Logical file naming and structure</li>
<li><b>Performance Optimized</b>: Minimal impact on script execution</li>
<li><b>Cross-Platform</b>: Consistent behavior across operating systems</li>
</ul>
<h1><a class="anchor" id="autotoc_md582"></a>
üìù <b>Log Generation and Capture</b></h1>
<h2><a class="anchor" id="autotoc_md583"></a>
<b>Automatic Log Generation</b></h2>
<h3><a class="anchor" id="autotoc_md584"></a>
<b>Built-in Logging</b></h3>
<p>The logging system automatically generates logs for all major operations:</p>
<div class="fragment"><div class="line">## Build operations automatically log</div>
<div class="line">./build_app.sh gpio_test Release --log</div>
<div class="line"> </div>
<div class="line">## Flash operations automatically log</div>
<div class="line">./flash_app.sh flash_monitor gpio_test Release --log</div>
<div class="line"> </div>
<div class="line">## Monitor operations automatically log</div>
<div class="line">./flash_app.sh monitor --log</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md585"></a>
<b>Log File Naming Convention</b></h3>
<p>Logs follow a consistent naming pattern:</p>
<div class="fragment"><div class="line">## Standard log naming format</div>
<div class="line">{app_type}*{build_type}*{timestamp}.log</div>
<div class="line"> </div>
<div class="line">## Examples:</div>
<div class="line">gpio_test_Release_20250115_143022.log</div>
<div class="line">adc_test_Debug_20250115_150045.log</div>
<div class="line">monitor_session_20250115_151230.log</div>
<div class="line"> </div>
<div class="line">## Custom log naming</div>
<div class="line">./flash_app.sh flash gpio_test Release --log production_deploy</div>
<div class="line">## Result: production_deploy_20250115_143022.log</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md586"></a>
<b>Log Content Structure</b></h3>
<p>Each log file contains comprehensive information:</p>
<div class="fragment"><div class="line">## # Log file header</div>
<div class="line">## ESP32 HardFOC Interface Wrapper - Operation Log</div>
<div class="line">Date: 2025-01-15</div>
<div class="line">Time: 14:30:22</div>
<div class="line">Operation: flash_monitor</div>
<div class="line">Application: gpio_test</div>
<div class="line">Build Type: Release</div>
<div class="line">ESP-IDF Version: release/v5.5</div>
<div class="line">Target: esp32c6</div>
<div class="line">## Port: /dev/ttyUSB0</div>
<div class="line">## Operation details</div>
<div class="line">- Command execution details</div>
<div class="line">- Configuration validation</div>
<div class="line">- Port detection results</div>
<div class="line">- Build/flash process output</div>
<div class="line">- Monitor session data</div>
<div class="line">- Error messages and warnings</div>
<div class="line">- Performance metrics</div>
<div class="line">- Completion status</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md587"></a>
<b>Log Capture Mechanisms</b></h2>
<h3><a class="anchor" id="autotoc_md588"></a>
<b>Output Capture</b></h3>
<p>The system captures all relevant output:</p>
<div class="fragment"><div class="line">## Captured output types</div>
<div class="line">- Standard output (stdout)</div>
<div class="line">- Standard error (stderr)</div>
<div class="line">- Command execution results</div>
<div class="line">- Error messages and warnings</div>
<div class="line">- Progress information</div>
<div class="line">- Performance metrics</div>
<div class="line">- Debug information</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md589"></a>
<b>Integration Points</b></h3>
<p>Logging integrates with all major systems:</p>
<div class="fragment"><div class="line">## Build system integration</div>
<div class="line">- Build process output</div>
<div class="line">- Compilation results</div>
<div class="line">- Build statistics</div>
<div class="line">- Error messages</div>
<div class="line"> </div>
<div class="line">## Flash system integration</div>
<div class="line">- Port detection results</div>
<div class="line">- Flash operation output</div>
<div class="line">- Monitor session data</div>
<div class="line">- Device communication</div>
<div class="line"> </div>
<div class="line">## Configuration system integration</div>
<div class="line">- Configuration validation</div>
<div class="line">- Parameter processing</div>
<div class="line">- Environment setup</div>
<div class="line">- Error handling</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md590"></a>
üóÇÔ∏è <b>Log Management and Organization</b></h1>
<h2><a class="anchor" id="autotoc_md591"></a>
<b>Log Directory Structure</b></h2>
<h3><a class="anchor" id="autotoc_md592"></a>
<b>Standard Organization</b></h3>
<p>/examples/esp32/logs/ ‚îú‚îÄ‚îÄ 2025-01-15/ # Date-based organization ‚îÇ ‚îú‚îÄ‚îÄ gpio_test_Release_143022.log ‚îÇ ‚îú‚îÄ‚îÄ adc_test_Debug_150045.log ‚îÇ ‚îî‚îÄ‚îÄ monitor_session_151230.log ‚îú‚îÄ‚îÄ latest/ # Symlinks to most recent logs ‚îÇ ‚îú‚îÄ‚îÄ build_latest.log ‚îÇ ‚îú‚îÄ‚îÄ flash_latest.log ‚îÇ ‚îî‚îÄ‚îÄ monitor_latest.log ‚îî‚îÄ‚îÄ archive/ # Archived logs ‚îú‚îÄ‚îÄ 2025-01-14/ ‚îî‚îÄ‚îÄ 2025-01-13/ </p>
<h3><a class="anchor" id="autotoc_md593"></a>
<b>Automatic Organization</b></h3>
<p>The system automatically organizes logs:</p>
<div class="fragment"><div class="line">## Automatic directory creation</div>
<div class="line">- Date-based subdirectories</div>
<div class="line">- Latest log symlinks</div>
<div class="line">- Archive organization</div>
<div class="line">- Cleanup and rotation</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md594"></a>
<b>Log Rotation and Cleanup</b></h2>
<h3><a class="anchor" id="autotoc_md595"></a>
<b>Automatic Rotation</b></h3>
<div class="fragment"><div class="line">## Rotation policies</div>
<div class="line">- Maximum log files: 50 (configurable)</div>
<div class="line">- Retention period: 30 days (configurable)</div>
<div class="line">- Archive old logs automatically</div>
<div class="line">- Clean up expired logs</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md596"></a>
<b>Cleanup Operations</b></h3>
<div class="fragment"><div class="line">## Manual cleanup</div>
<div class="line">./manage_logs.sh clean 7          # Keep logs for 7 days</div>
<div class="line">./manage_logs.sh clean 30         # Keep logs for 30 days</div>
<div class="line">./manage_logs.sh clean            # Use default retention</div>
<div class="line"> </div>
<div class="line">## Automatic cleanup</div>
<div class="line">- Daily cleanup of expired logs</div>
<div class="line">- Archive creation for old logs</div>
<div class="line">- Storage optimization</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md597"></a>
<b>Log File Management</b></h2>
<h3><a class="anchor" id="autotoc_md598"></a>
<b>File Operations</b></h3>
<div class="fragment"><div class="line">## List all logs</div>
<div class="line">./manage_logs.sh list</div>
<div class="line"> </div>
<div class="line">## View specific log</div>
<div class="line">./manage_logs.sh view gpio_test_Release_20250115_143022.log</div>
<div class="line"> </div>
<div class="line">## Show latest log</div>
<div class="line">./manage_logs.sh latest</div>
<div class="line"> </div>
<div class="line">## Get log statistics</div>
<div class="line">./manage_logs.sh stats</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md599"></a>
<b>Storage Optimization</b></h3>
<div class="fragment"><div class="line">## Storage features</div>
<div class="line">- Automatic compression of old logs</div>
<div class="line">- Efficient file organization</div>
<div class="line">- Configurable retention policies</div>
<div class="line">- Storage usage monitoring</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md600"></a>
üîç <b>Log Analysis and Search</b></h1>
<h2><a class="anchor" id="autotoc_md601"></a>
<b>Cross-Log Search</b></h2>
<h3><a class="anchor" id="autotoc_md602"></a>
<b>Pattern Search</b></h3>
<div class="fragment"><div class="line">## Search for specific patterns</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot;           # Find all errors</div>
<div class="line">./manage_logs.sh search &quot;WARNING&quot;         # Find all warnings</div>
<div class="line">./manage_logs.sh search &quot;FAILED&quot;          # Find all failures</div>
<div class="line">./manage_logs.sh search &quot;SUCCESS&quot;         # Find all successes</div>
<div class="line"> </div>
<div class="line">## Advanced search patterns</div>
<div class="line">./manage_logs.sh search &quot;gpio.*error&quot;     # GPIO-related errors</div>
<div class="line">./manage_logs.sh search &quot;flash.*failed&quot;   # Flash failures</div>
<div class="line">./manage_logs.sh search &quot;build.*success&quot;  # Build successes</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md603"></a>
<b>Search Capabilities</b></h3>
<p>The search system provides powerful capabilities:</p>
<div class="fragment"><div class="line">## Search features</div>
<div class="line">- Regular expression support</div>
<div class="line">- Case-insensitive search</div>
<div class="line">- Multi-line pattern matching</div>
<div class="line">- Context display</div>
<div class="line">- Result highlighting</div>
<div class="line">- Search result summary</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md604"></a>
<b>Log Statistics and Analysis</b></h2>
<h3><a class="anchor" id="autotoc_md605"></a>
<b>Statistical Analysis</b></h3>
<div class="fragment"><div class="line">## Get log statistics</div>
<div class="line">./manage_logs.sh stats</div>
<div class="line"> </div>
<div class="line">## Statistics include</div>
<div class="line">- Total log files</div>
<div class="line">- Total log size</div>
<div class="line">- Log age distribution</div>
<div class="line">- Error frequency</div>
<div class="line">- Success rates</div>
<div class="line">- Performance metrics</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md606"></a>
<b>Trend Analysis</b></h3>
<div class="fragment"><div class="line">## Trend analysis features</div>
<div class="line">- Error rate trends</div>
<div class="line">- Performance trends</div>
<div class="line">- Build success trends</div>
<div class="line">- Flash success trends</div>
<div class="line">- Time-based patterns</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md607"></a>
<b>Log Comparison and Diff</b></h2>
<h3><a class="anchor" id="autotoc_md608"></a>
<b>Cross-Log Comparison</b></h3>
<div class="fragment"><div class="line">## Compare different logs</div>
<div class="line">./manage_logs.sh compare log1.log log2.log</div>
<div class="line"> </div>
<div class="line">## Comparison features</div>
<div class="line">- Side-by-side comparison</div>
<div class="line">- Difference highlighting</div>
<div class="line">- Common pattern identification</div>
<div class="line">- Change tracking</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md609"></a>
üöÄ <b>Usage Examples and Patterns</b></h1>
<h2><a class="anchor" id="autotoc_md610"></a>
<b>Basic Log Management</b></h2>
<h3><a class="anchor" id="autotoc_md611"></a>
<b>1. View Logs</b></h3>
<div class="fragment"><div class="line">## List all available logs</div>
<div class="line">./manage_logs.sh list</div>
<div class="line"> </div>
<div class="line">## View the most recent log</div>
<div class="line">./manage_logs.sh latest</div>
<div class="line"> </div>
<div class="line">## View a specific log file</div>
<div class="line">./manage_logs.sh view gpio_test_Release_20250115_143022.log</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md612"></a>
<b>2. Search Logs</b></h3>
<div class="fragment"><div class="line">## Search for errors</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot;</div>
<div class="line"> </div>
<div class="line">## Search for specific patterns</div>
<div class="line">./manage_logs.sh search &quot;build.*failed&quot;</div>
<div class="line">./manage_logs.sh search &quot;flash.*success&quot;</div>
<div class="line"> </div>
<div class="line">## Search with context</div>
<div class="line">./manage_logs.sh search &quot;gpio.*error&quot; --context 5</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md613"></a>
<b>3. Log Maintenance</b></h3>
<div class="fragment"><div class="line">## Clean old logs</div>
<div class="line">./manage_logs.sh clean 7          # Keep 7 days</div>
<div class="line">./manage_logs.sh clean 30         # Keep 30 days</div>
<div class="line"> </div>
<div class="line">## Get log statistics</div>
<div class="line">./manage_logs.sh stats</div>
<div class="line"> </div>
<div class="line">## Archive old logs</div>
<div class="line">./manage_logs.sh archive</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md614"></a>
<b>Advanced Log Patterns</b></h2>
<h3><a class="anchor" id="autotoc_md615"></a>
<b>1. Development Workflow Logging</b></h3>
<div class="fragment"><div class="line">## Complete development workflow with logging</div>
<div class="line">./build_app.sh gpio_test Debug --log</div>
<div class="line">./flash_app.sh flash_monitor gpio_test Debug --log</div>
<div class="line">./manage_logs.sh latest</div>
<div class="line"> </div>
<div class="line">## Expected result</div>
<div class="line">- Build log with debug information</div>
<div class="line">- Flash log with port detection</div>
<div class="line">- Monitor log with device output</div>
<div class="line">- Comprehensive development trace</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md616"></a>
<b>2. Production Deployment Logging</b></h3>
<div class="fragment"><div class="line">## Production deployment with logging</div>
<div class="line">./build_app.sh gpio_test Release --log production_build</div>
<div class="line">./flash_app.sh flash gpio_test Release --log production_deploy</div>
<div class="line">./manage_logs.sh search &quot;production.*success&quot;</div>
<div class="line"> </div>
<div class="line">## Expected result</div>
<div class="line">- Production build log</div>
<div class="line">- Deployment log</div>
<div class="line">- Success verification</div>
<div class="line">- Audit trail for production</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md617"></a>
<b>3. Debugging and Troubleshooting</b></h3>
<div class="fragment"><div class="line">## Debugging workflow with logging</div>
<div class="line">./flash_app.sh monitor --log debug_session</div>
<div class="line">## ... perform debugging operations ...</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot; --context 10</div>
<div class="line">./manage_logs.sh search &quot;WARNING&quot; --context 5</div>
<div class="line"> </div>
<div class="line">## Expected result</div>
<div class="line">- Complete debugging session log</div>
<div class="line">- Error context and patterns</div>
<div class="line">- Warning identification</div>
<div class="line">- Troubleshooting guidance</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md618"></a>
<b>Log Analysis Workflows</b></h2>
<h3><a class="anchor" id="autotoc_md619"></a>
<b>1. Error Analysis</b></h3>
<div class="fragment"><div class="line">## Comprehensive error analysis</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot; &gt; errors.txt</div>
<div class="line">./manage_logs.sh search &quot;FAILED&quot; &gt;&gt; errors.txt</div>
<div class="line">./manage_logs.sh search &quot;WARNING&quot; &gt;&gt; warnings.txt</div>
<div class="line"> </div>
<div class="line">## Analyze error patterns</div>
<div class="line">cat errors.txt | grep -o &quot;ERROR:.*&quot; | sort | uniq -c</div>
<div class="line">cat warnings.txt | grep -o &quot;WARNING:.*&quot; | sort | uniq -c</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md620"></a>
<b>2. Performance Analysis</b></h3>
<div class="fragment"><div class="line">## Performance analysis</div>
<div class="line">./manage_logs.sh search &quot;build.*completed&quot; | grep -o &quot;in [0-9.]*s&quot;</div>
<div class="line">./manage_logs.sh search &quot;flash.*completed&quot; | grep -o &quot;in [0-9.]*s&quot;</div>
<div class="line"> </div>
<div class="line">## Performance trends</div>
<div class="line">for log in $(./manage_logs.sh list | grep &quot;build.*Release&quot;); do</div>
<div class="line">    echo &quot;$log: $(./manage_logs.sh search &quot;build.*completed&quot; &quot;$log&quot; | grep -o &quot;in [0-9.]*s&quot;)&quot;</div>
<div class="line">done</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md621"></a>
<b>3. Success Rate Analysis</b></h3>
<div class="fragment"><div class="line">## Success rate analysis</div>
<div class="line">total_ops=$(./manage_logs.sh list | wc -l)</div>
<div class="line">success_ops=$(./manage_logs.sh search &quot;SUCCESS&quot; | wc -l)</div>
<div class="line">error_ops=$(./manage_logs.sh search &quot;ERROR&quot; | wc -l)</div>
<div class="line"> </div>
<div class="line">echo &quot;Total operations: $total_ops&quot;</div>
<div class="line">echo &quot;Successful operations: $success_ops&quot;</div>
<div class="line">echo &quot;Failed operations: $error_ops&quot;</div>
<div class="line">echo &quot;Success rate: $((success_ops * 100 / total_ops))%&quot;</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md622"></a>
üîß <b>Integration and Automation</b></h1>
<h2><a class="anchor" id="autotoc_md623"></a>
<b>Script Integration</b></h2>
<h3><a class="anchor" id="autotoc_md624"></a>
<b>Automatic Logging</b></h3>
<p>All scripts automatically support logging:</p>
<div class="fragment"><div class="line">## Build script logging</div>
<div class="line">./build_app.sh gpio_test Release --log</div>
<div class="line"> </div>
<div class="line">## Flash script logging</div>
<div class="line">./flash_app.sh flash_monitor gpio_test Release --log</div>
<div class="line"> </div>
<div class="line">## Monitor script logging</div>
<div class="line">./flash_app.sh monitor --log</div>
<div class="line"> </div>
<div class="line">## Log management integration</div>
<div class="line">./manage_logs.sh latest</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot;</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md625"></a>
<b>Log Configuration</b></h3>
<p>Logging can be configured through environment variables:</p>
<div class="fragment"><div class="line">## Logging configuration</div>
<div class="line">export LOG_ENABLED=1              # Enable logging</div>
<div class="line">export LOG_LEVEL=INFO             # Set log level</div>
<div class="line">export LOG_RETENTION_DAYS=30      # Set retention period</div>
<div class="line">export LOG_MAX_FILES=50           # Set maximum log files</div>
<div class="line">export LOG_COMPRESSION=1          # Enable compression</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md626"></a>
<b>CI/CD Integration</b></h2>
<h3><a class="anchor" id="autotoc_md627"></a>
<b>Automated Logging</b></h3>
<div class="fragment"><div class="line">## GitHub Actions workflow</div>
<div class="line">- name: Build and Flash with Logging</div>
<div class="line">  run: |</div>
<div class="line">    cd /examples/esp32</div>
<div class="line">    ./scripts/build_app.sh gpio_test Release --log ci_build</div>
<div class="line">    ./scripts/flash_app.sh flash gpio_test Release --log ci_deploy</div>
<div class="line"> </div>
<div class="line">- name: Analyze Logs</div>
<div class="line">  run: |</div>
<div class="line">    cd /examples/esp32</div>
<div class="line">    ./scripts/manage_logs.sh search &quot;ERROR&quot;</div>
<div class="line">    ./scripts/manage_logs.sh stats</div>
<div class="line">    ./scripts/manage_logs.sh latest</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md628"></a>
<b>Log Artifacts</b></h3>
<div class="fragment"><div class="line">## Upload logs as artifacts</div>
<div class="line">- name: Upload Logs</div>
<div class="line">  uses: actions/upload-artifact@v3</div>
<div class="line">  with:</div>
<div class="line">    name: esp32-logs</div>
<div class="line">    path: /examples/esp32/logs/</div>
<div class="line">    retention-days: 30</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md629"></a>
<b>Automation Scripts</b></h2>
<h3><a class="anchor" id="autotoc_md630"></a>
<b>Log Analysis Automation</b></h3>
<div class="fragment"><div class="line">#!/bin/bash</div>
<div class="line">## Automated log analysis script</div>
<div class="line"> </div>
<div class="line">cd /examples/esp32</div>
<div class="line"> </div>
<div class="line">## Generate daily log report</div>
<div class="line">echo &quot;=== Daily Log Report $(date +%Y-%m-%d) ===&quot; &gt; daily_report.txt</div>
<div class="line"> </div>
<div class="line">## Get log statistics</div>
<div class="line">echo &quot;Log Statistics:&quot; &gt;&gt; daily_report.txt</div>
<div class="line">./scripts/manage_logs.sh stats &gt;&gt; daily_report.txt</div>
<div class="line"> </div>
<div class="line">## Check for errors</div>
<div class="line">echo -e &quot;\nError Summary:&quot; &gt;&gt; daily_report.txt</div>
<div class="line">./scripts/manage_logs.sh search &quot;ERROR&quot; | head -20 &gt;&gt; daily_report.txt</div>
<div class="line"> </div>
<div class="line">## Check for warnings</div>
<div class="line">echo -e &quot;\nWarning Summary:&quot; &gt;&gt; daily_report.txt</div>
<div class="line">./scripts/manage_logs.sh search &quot;WARNING&quot; | head -20 &gt;&gt; daily_report.txt</div>
<div class="line"> </div>
<div class="line">## Send report</div>
<div class="line">mail -s &quot;ESP32 Daily Log Report&quot; admin@example.com &lt; daily_report.txt</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md631"></a>
<b>Log Cleanup Automation</b></h3>
<div class="fragment"><div class="line">#!/bin/bash</div>
<div class="line">## Automated log cleanup script</div>
<div class="line"> </div>
<div class="line">cd /examples/esp32</div>
<div class="line"> </div>
<div class="line">## Clean old logs</div>
<div class="line">./scripts/manage_logs.sh clean 30</div>
<div class="line"> </div>
<div class="line">## Archive old logs</div>
<div class="line">./scripts/manage_logs.sh archive</div>
<div class="line"> </div>
<div class="line">## Generate cleanup report</div>
<div class="line">echo &quot;Log cleanup completed at $(date)&quot; &gt; cleanup_report.txt</div>
<div class="line">echo &quot;Logs older than 30 days have been cleaned up&quot; &gt;&gt; cleanup_report.txt</div>
<div class="line">echo &quot;Old logs have been archived&quot; &gt;&gt; cleanup_report.txt</div>
<div class="line"> </div>
<div class="line">## Send cleanup report</div>
<div class="line">mail -s &quot;ESP32 Log Cleanup Report&quot; admin@example.com &lt; cleanup_report.txt</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md632"></a>
üîç <b>Troubleshooting and Debugging</b></h1>
<h2><a class="anchor" id="autotoc_md633"></a>
<b>Common Log Issues</b></h2>
<h3><a class="anchor" id="autotoc_md634"></a>
<b>1. Log Files Not Created</b></h3>
<p><b>Problem</b>: Log files are not being generated <b>Symptoms</b>: No log files in logs directory <b>Solutions</b>: </p><div class="fragment"><div class="line">## Check if logging is enabled</div>
<div class="line">echo $LOG_ENABLED</div>
<div class="line"> </div>
<div class="line">## Check log directory permissions</div>
<div class="line">ls -la logs/</div>
<div class="line">chmod 755 logs/</div>
<div class="line"> </div>
<div class="line">## Check script logging support</div>
<div class="line">./flash_app.sh --help | grep -i log</div>
<div class="line"> </div>
<div class="line">## Enable logging explicitly</div>
<div class="line">export LOG_ENABLED=1</div>
<div class="line">./flash_app.sh flash gpio_test Release --log</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md635"></a>
<b>2. Log Directory Issues</b></h3>
<p><b>Problem</b>: Cannot access or create log directory <b>Symptoms</b>: "Permission denied" or "Directory not found" errors <b>Solutions</b>: </p><div class="fragment"><div class="line">## Check directory existence</div>
<div class="line">ls -la /examples/esp32/</div>
<div class="line"> </div>
<div class="line">## Create log directory</div>
<div class="line">mkdir -p /examples/esp32/logs</div>
<div class="line"> </div>
<div class="line">## Check permissions</div>
<div class="line">ls -la /examples/esp32/logs/</div>
<div class="line"> </div>
<div class="line">## Fix permissions</div>
<div class="line">chmod 755 /examples/esp32/logs/</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md636"></a>
<b>3. Log File Corruption</b></h3>
<p><b>Problem</b>: Log files are corrupted or incomplete <b>Symptoms</b>: Incomplete log files or parsing errors <b>Solutions</b>: </p><div class="fragment"><div class="line">## Check log file integrity</div>
<div class="line">./manage_logs.sh view latest.log</div>
<div class="line"> </div>
<div class="line">## Check file size</div>
<div class="line">ls -la logs/*.log</div>
<div class="line"> </div>
<div class="line">## Remove corrupted logs</div>
<div class="line">rm logs/corrupted.log</div>
<div class="line"> </div>
<div class="line">## Regenerate logs</div>
<div class="line">./flash_app.sh flash gpio_test Release --log</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md637"></a>
<b>Debug and Verbose Mode</b></h2>
<h3><a class="anchor" id="autotoc_md638"></a>
<b>Enabling Log Debug Output</b></h3>
<div class="fragment"><div class="line">## Enable log debug mode</div>
<div class="line">export LOG_DEBUG=1</div>
<div class="line">export LOG_VERBOSE=1</div>
<div class="line"> </div>
<div class="line">## Check log system status</div>
<div class="line">./manage_logs.sh --help</div>
<div class="line">./manage_logs.sh list --verbose</div>
<div class="line"> </div>
<div class="line">## Debug information available</div>
<div class="line">- Log file creation details</div>
<div class="line">- Log capture process information</div>
<div class="line">- Log organization details</div>
<div class="line">- Search and analysis information</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md639"></a>
<b>Log System Debugging</b></h3>
<div class="fragment"><div class="line">## Debug log system</div>
<div class="line">debug_log_system() {</div>
<div class="line">    echo &quot;=== Log System Debug ===&quot;</div>
<div class="line">    echo &quot;Log directory: $LOG_DIR&quot;</div>
<div class="line">    echo &quot;Log directory exists: $([ -d &quot;$LOG_DIR&quot; ] &amp;&amp; echo &quot;Yes&quot; || echo &quot;No&quot;)&quot;</div>
<div class="line">    echo &quot;Log directory writable: $([ -w &quot;$LOG_DIR&quot; ] &amp;&amp; echo &quot;Yes&quot; || echo &quot;No&quot;)&quot;</div>
<div class="line">    echo &quot;Log files count: $(find &quot;$LOG_DIR&quot; -name &quot;*.log&quot; | wc -l)&quot;</div>
<div class="line">    echo &quot;Latest log: $(./manage_logs.sh latest 2&gt;/dev/null || echo &quot;None&quot;)&quot;</div>
<div class="line">}</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md640"></a>
<b>Log Performance Issues</b></h2>
<h3><a class="anchor" id="autotoc_md641"></a>
<b>Large Log Files</b></h3>
<p><b>Problem</b>: Log files are very large and slow to process <b>Symptoms</b>: Slow search operations or high memory usage <b>Solutions</b>: </p><div class="fragment"><div class="line">## Check log file sizes</div>
<div class="line">./manage_logs.sh list | xargs ls -lh</div>
<div class="line"> </div>
<div class="line">## Compress old logs</div>
<div class="line">./manage_logs.sh compress</div>
<div class="line"> </div>
<div class="line">## Clean old logs</div>
<div class="line">./manage_logs.sh clean 7</div>
<div class="line"> </div>
<div class="line">## Split large logs</div>
<div class="line">./manage_logs.sh split large_log.log</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md642"></a>
<b>Search Performance</b></h3>
<p><b>Problem</b>: Log search operations are slow <b>Symptoms</b>: Long search times or high CPU usage <b>Solutions</b>: </p><div class="fragment"><div class="line">## Use more specific search patterns</div>
<div class="line">./manage_logs.sh search &quot;ERROR.*gpio&quot;  # More specific than just &quot;ERROR&quot;</div>
<div class="line"> </div>
<div class="line">## Limit search scope</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot; --max-results 100</div>
<div class="line"> </div>
<div class="line">## Use indexed search (if available)</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot; --indexed</div>
<div class="line"> </div>
<div class="line">## Search in specific time range</div>
<div class="line">./manage_logs.sh search &quot;ERROR&quot; --since &quot;2025-01-15&quot;</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md643"></a>
üìö <b>Reference and Examples</b></h1>
<h2><a class="anchor" id="autotoc_md644"></a>
<b>Command Reference</b></h2>
<h3><a class="anchor" id="autotoc_md645"></a>
<b>Log Management Commands</b></h3>
<div class="fragment"><div class="line">./manage_logs.sh [command] [options]</div>
<div class="line"> </div>
<div class="line">## Commands:</div>
<div class="line">##   list                    - List all log files with details</div>
<div class="line">##   view &lt;log_name&gt;        - View a specific log file</div>
<div class="line">##   search &lt;pattern&gt;       - Search across all log files</div>
<div class="line">##   clean [days]           - Clean logs older than N days</div>
<div class="line">##   stats                  - Show log statistics and summary</div>
<div class="line">##   latest                 - Show the most recent log file</div>
<div class="line">##   compare &lt;log1&gt; &lt;log2&gt;  - Compare two log files</div>
<div class="line">##   archive                - Archive old logs</div>
<div class="line">##   compress               - Compress old logs</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md646"></a>
<b>Log Options</b></h3>
<ul>
<li>**<code>--verbose</code>**: Enable verbose output</li>
<li>**<code>--context &lt;lines&gt;</code>**: Show context lines around search results</li>
<li>**<code>--max-results &lt;count&gt;</code>**: Limit search results</li>
<li>**<code>--since &lt;date&gt;</code>**: Search logs since specific date</li>
<li>**<code>--until &lt;date&gt;</code>**: Search logs until specific date</li>
<li>**<code>--help</code>**: Show usage information</li>
</ul>
<h3><a class="anchor" id="autotoc_md647"></a>
<b>Environment Variables</b></h3>
<div class="fragment"><div class="line">## Logging configuration</div>
<div class="line">export LOG_ENABLED=1              # Enable/disable logging</div>
<div class="line">export LOG_LEVEL=INFO             # Set log level (DEBUG, INFO, WARN, ERROR)</div>
<div class="line">export LOG_DIR=&quot;logs/&quot;            # Set log directory</div>
<div class="line">export LOG_RETENTION_DAYS=30      # Set log retention period</div>
<div class="line">export LOG_MAX_FILES=50           # Set maximum log files</div>
<div class="line">export LOG_COMPRESSION=1          # Enable/disable compression</div>
<div class="line">export LOG_ROTATION=1             # Enable/disable rotation</div>
<div class="line">export LOG_ARCHIVE=1              # Enable/disable archiving</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md648"></a>
<b>Configuration Examples</b></h2>
<h3><a class="anchor" id="autotoc_md649"></a>
<b>Minimal Log Configuration</b></h3>
<div class="fragment"><div class="line">## app_config.yml minimal logging configuration</div>
<div class="line">flash_config:</div>
<div class="line">  auto_logging: true</div>
<div class="line">  log_rotation: true</div>
<div class="line">  max_log_files: 30</div>
<div class="line">  log_retention_days: 7</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md650"></a>
<b>Standard Log Configuration</b></h3>
<div class="fragment"><div class="line">## app_config.yml standard logging configuration</div>
<div class="line">flash_config:</div>
<div class="line">  auto_logging: true</div>
<div class="line">  log_rotation: true</div>
<div class="line">  max_log_files: 50</div>
<div class="line">  log_retention_days: 30</div>
<div class="line">  log_compression: true</div>
<div class="line">  log_archive: true</div>
<div class="line">  log_format: &quot;detailed&quot;</div>
<div class="line">  log_level: &quot;INFO&quot;</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md651"></a>
<b>Advanced Log Configuration</b></h3>
<div class="fragment"><div class="line">## app_config.yml advanced logging configuration</div>
<div class="line">flash_config:</div>
<div class="line">  auto_logging: true</div>
<div class="line">  log_rotation: true</div>
<div class="line">  max_log_files: 100</div>
<div class="line">  log_retention_days: 90</div>
<div class="line">  log_compression: true</div>
<div class="line">  log_archive: true</div>
<div class="line">  log_format: &quot;detailed&quot;</div>
<div class="line">  log_level: &quot;DEBUG&quot;</div>
<div class="line">  </div>
<div class="line">  # Log organization</div>
<div class="line">  log_directory: &quot;logs/&quot;</div>
<div class="line">  log_subdirectories: true</div>
<div class="line">  date_based_organization: true</div>
<div class="line">  </div>
<div class="line">  # Log analysis</div>
<div class="line">  log_indexing: true</div>
<div class="line">  log_search_cache: true</div>
<div class="line">  log_analytics: true</div>
<div class="line">  </div>
<div class="line">  # Performance</div>
<div class="line">  log_buffer_size: &quot;1MB&quot;</div>
<div class="line">  log_flush_interval: 5</div>
<div class="line">  log_async_writing: true</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md652"></a>
<b>Integration Examples</b></h2>
<h3><a class="anchor" id="autotoc_md653"></a>
<b>CMake Integration</b></h3>
<div class="fragment"><div class="line">## CMakeLists.txt logging integration</div>
<div class="line">cmake_minimum_required(VERSION 3.16)</div>
<div class="line"> </div>
<div class="line">## Log target integration</div>
<div class="line">add_custom_target(logs</div>
<div class="line">    COMMAND ${CMAKE_SOURCE_DIR}/scripts/manage_logs.sh list</div>
<div class="line">    COMMENT &quot;Listing ESP32 development logs&quot;</div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">## Log cleanup target</div>
<div class="line">add_custom_target(clean_logs</div>
<div class="line">    COMMAND ${CMAKE_SOURCE_DIR}/scripts/manage_logs.sh clean 7</div>
<div class="line">    COMMENT &quot;Cleaning logs older than 7 days&quot;</div>
<div class="line">)</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md654"></a>
<b>CI/CD Integration</b></h3>
<div class="fragment"><div class="line">## GitHub Actions logging workflow</div>
<div class="line">- name: Setup Logging</div>
<div class="line">  run: |</div>
<div class="line">    cd /examples/esp32</div>
<div class="line">    mkdir -p logs</div>
<div class="line">    export LOG_ENABLED=1</div>
<div class="line">    export LOG_LEVEL=DEBUG</div>
<div class="line"> </div>
<div class="line">- name: Build with Logging</div>
<div class="line">  run: |</div>
<div class="line">    cd /examples/esp32</div>
<div class="line">    ./scripts/build_app.sh gpio_test Release --log ci_build</div>
<div class="line"> </div>
<div class="line">- name: Flash with Logging</div>
<div class="line">  run: |</div>
<div class="line">    cd /examples/esp32</div>
<div class="line">    ./scripts/flash_app.sh flash gpio_test Release --log ci_deploy</div>
<div class="line"> </div>
<div class="line">- name: Analyze Logs</div>
<div class="line">  run: |</div>
<div class="line">    cd /examples/esp32</div>
<div class="line">    ./scripts/manage_logs.sh stats</div>
<div class="line">    ./scripts/manage_logs.sh search &quot;ERROR&quot;</div>
<div class="line">    ./scripts/manage_logs.sh search &quot;SUCCESS&quot;</div>
<div class="line"> </div>
<div class="line">- name: Upload Logs</div>
<div class="line">  uses: actions/upload-artifact@v3</div>
<div class="line">  with:</div>
<div class="line">    name: esp32-logs</div>
<div class="line">    path: /examples/esp32/logs/</div>
<div class="line">    retention-days: 30</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md655"></a>
<b>Best Practices</b></h2>
<h3><a class="anchor" id="autotoc_md656"></a>
<b>1. Log Management</b></h3>
<ul>
<li>Always enable logging for important operations</li>
<li>Use descriptive log names for easy identification</li>
<li>Regular log cleanup to prevent disk space issues</li>
<li>Archive important logs for long-term retention</li>
</ul>
<h3><a class="anchor" id="autotoc_md657"></a>
<b>2. Log Analysis</b></h3>
<ul>
<li>Use specific search patterns for better results</li>
<li>Regular review of error logs for pattern identification</li>
<li>Monitor log statistics for system health</li>
<li>Use log analysis for performance optimization</li>
</ul>
<h3><a class="anchor" id="autotoc_md658"></a>
<b>3. Log Integration</b></h3>
<ul>
<li>Integrate logging into all development workflows</li>
<li>Use logging for CI/CD pipeline monitoring</li>
<li>Implement automated log analysis and reporting</li>
<li>Use logs for debugging and troubleshooting</li>
</ul>
<h3><a class="anchor" id="autotoc_md659"></a>
<b>4. Log Performance</b></h3>
<ul>
<li>Monitor log file sizes and growth rates</li>
<li>Implement log rotation and compression</li>
<li>Use efficient search patterns</li>
<li>Regular log maintenance and cleanup </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
