<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HF-WS2812 Driver: CI/CD Integration Patterns</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HF-WS2812 Driver<span id="projectnumber">&#160;0.1.0-dev</span>
   </div>
   <div id="projectbrief">HF-WS2812 ESP32 RMT Driver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_examples_2esp32_2scripts_2docs_2ci-integration-patterns.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CI/CD Integration Patterns</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md249"></a> This guide covers common patterns for integrating the HardFOC ESP-IDF Project Tools into your CI/CD workflows, including GitHub Actions, GitLab CI, and other automation platforms.</p>
<h1><a class="anchor" id="autotoc_md250"></a>
ğŸ“‹ Directory Structure Concepts</h1>
<h2><a class="anchor" id="autotoc_md251"></a>
Project Directory (<code>project_dir</code>)</h2>
<ul>
<li><b>Purpose</b>: Points to your ESP-IDF project directory (contains <code>CMakeLists.txt</code>, <code>app_config.yml</code>)</li>
<li><b>Examples</b>: <code>examples/esp32</code>, <code>firmware/esp32-project</code>, <code>src/esp32-app</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md252"></a>
Tools Directory (<code>project_tools_dir</code>)</h2>
<ul>
<li><b>Purpose</b>: Points to directory containing the build scripts (<code>build_app.sh</code>, <code><a class="el" href="generate__matrix_8py.html">generate_matrix.py</a></code>, etc.)</li>
<li><b>Auto-detection</b>: If not specified, looks for <code>hf-espidf-project-tools</code> subdirectory in project directory</li>
<li><b>Multi-Project Support</b>: Can be shared across multiple projects since all scripts accept <code>--project-path</code> argument</li>
<li><b>Examples</b>: <code>examples/esp32/scripts</code>, <code>examples/esp32/hf-espidf-project-tools</code>, <code>tools/esp32-build-scripts</code>, <code>shared-tools</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md253"></a>
ğŸ—ï¸ Common Integration Patterns</h1>
<h2><a class="anchor" id="autotoc_md254"></a>
Pattern 1: Submodule Setup (Recommended)</h2>
<p><b>Repository structure:</b> </p><div class="fragment"><div class="line">your-repo/</div>
<div class="line">â”œâ”€â”€ .github/workflows/          # CI workflows (at repo root)</div>
<div class="line">â”‚   â””â”€â”€ build.yml</div>
<div class="line">â”œâ”€â”€ examples/esp32/             # ESP-IDF project</div>
<div class="line">â”‚   â”œâ”€â”€ CMakeLists.txt</div>
<div class="line">â”‚   â”œâ”€â”€ app_config.yml</div>
<div class="line">â”‚   â””â”€â”€ hf-espidf-project-tools/  # Submodule containing project tools</div>
<div class="line">â”‚       â”œâ”€â”€ build_app.sh</div>
<div class="line">â”‚       â””â”€â”€ generate_matrix.py</div>
<div class="line">â””â”€â”€ README.md</div>
</div><!-- fragment --><p><b>GitHub Actions workflow:</b> </p><div class="fragment"><div class="line">name: Build ESP-IDF Applications</div>
<div class="line"> </div>
<div class="line">on:</div>
<div class="line">  push:</div>
<div class="line">    branches: [ main, develop ]</div>
<div class="line">  pull_request:</div>
<div class="line">    branches: [ main ]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build:</div>
<div class="line">    uses: N3b3x/hf-espidf-ci-tools/.github/workflows/build.yml@v1</div>
<div class="line">    with:</div>
<div class="line">      project_dir: examples/esp32</div>
<div class="line">      project_tools_dir: examples/esp32/hf-espidf-project-tools  # Points to submodule</div>
<div class="line">      # auto_clone_tools not needed - workflow respects explicit project_tools_dir</div>
</div><!-- fragment --><p><b>âœ… Benefits:</b></p><ul>
<li>Automatic behavior when <code>project_tools_dir</code> is specified</li>
<li>No auto-cloning occurs when explicit path is provided</li>
<li>Submodule detection and validation happens automatically</li>
</ul>
<h2><a class="anchor" id="autotoc_md255"></a>
Pattern 2: Direct Clone Setup</h2>
<p><b>Repository structure:</b> </p><div class="fragment"><div class="line">your-repo/</div>
<div class="line">â”œâ”€â”€ .github/workflows/</div>
<div class="line">â”‚   â””â”€â”€ build.yml</div>
<div class="line">â”œâ”€â”€ examples/esp32/             # ESP-IDF project</div>
<div class="line">â”‚   â”œâ”€â”€ CMakeLists.txt</div>
<div class="line">â”‚   â”œâ”€â”€ app_config.yml</div>
<div class="line">â”‚   â””â”€â”€ hf-espidf-project-tools/  # Cloned directly</div>
<div class="line">â”‚       â”œâ”€â”€ build_app.sh</div>
<div class="line">â”‚       â””â”€â”€ generate_matrix.py</div>
<div class="line">â””â”€â”€ README.md</div>
</div><!-- fragment --><p><b>GitHub Actions workflow:</b> </p><div class="fragment"><div class="line">name: Build ESP-IDF Applications</div>
<div class="line"> </div>
<div class="line">on:</div>
<div class="line">  push:</div>
<div class="line">    branches: [ main ]</div>
<div class="line">  pull_request:</div>
<div class="line">    branches: [ main ]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build:</div>
<div class="line">    uses: N3b3x/hf-espidf-ci-tools/.github/workflows/build.yml@v1</div>
<div class="line">    with:</div>
<div class="line">      project_dir: examples/esp32</div>
<div class="line">      # project_tools_dir not needed - auto-detects hf-espidf-project-tools</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md256"></a>
Pattern 3: Custom Tools Location</h2>
<p><b>Repository structure:</b> </p><div class="fragment"><div class="line">your-repo/</div>
<div class="line">â”œâ”€â”€ .github/workflows/</div>
<div class="line">â”‚   â””â”€â”€ build.yml</div>
<div class="line">â”œâ”€â”€ firmware/esp32/             # ESP-IDF project</div>
<div class="line">â”‚   â”œâ”€â”€ CMakeLists.txt</div>
<div class="line">â”‚   â””â”€â”€ app_config.yml</div>
<div class="line">â””â”€â”€ build-tools/                # Custom tools location</div>
<div class="line">    â”œâ”€â”€ build_app.sh</div>
<div class="line">    â””â”€â”€ generate_matrix.py</div>
</div><!-- fragment --><p><b>GitHub Actions workflow:</b> </p><div class="fragment"><div class="line">name: Build ESP-IDF Applications</div>
<div class="line"> </div>
<div class="line">on:</div>
<div class="line">  push:</div>
<div class="line">    branches: [ main ]</div>
<div class="line">  pull_request:</div>
<div class="line">    branches: [ main ]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build:</div>
<div class="line">    uses: N3b3x/hf-espidf-ci-tools/.github/workflows/build.yml@v1</div>
<div class="line">    with:</div>
<div class="line">      project_dir: firmware/esp32</div>
<div class="line">      project_tools_dir: build-tools</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md257"></a>
Pattern 4: Shared Tools for Multiple Projects</h2>
<p><b>Repository structure:</b> </p><div class="fragment"><div class="line">your-repo/</div>
<div class="line">â”œâ”€â”€ .github/workflows/</div>
<div class="line">â”‚   â””â”€â”€ build.yml</div>
<div class="line">â”œâ”€â”€ projects/</div>
<div class="line">â”‚   â”œâ”€â”€ project-a/              # ESP-IDF project A</div>
<div class="line">â”‚   â”‚   â”œâ”€â”€ CMakeLists.txt</div>
<div class="line">â”‚   â”‚   â””â”€â”€ app_config.yml</div>
<div class="line">â”‚   â””â”€â”€ project-b/              # ESP-IDF project B</div>
<div class="line">â”‚       â”œâ”€â”€ CMakeLists.txt</div>
<div class="line">â”‚       â””â”€â”€ app_config.yml</div>
<div class="line">â””â”€â”€ shared-tools/               # Shared tools directory</div>
<div class="line">    â”œâ”€â”€ build_app.sh</div>
<div class="line">    â””â”€â”€ generate_matrix.py</div>
</div><!-- fragment --><p><b>GitHub Actions workflow:</b> </p><div class="fragment"><div class="line">name: Build ESP-IDF Applications</div>
<div class="line"> </div>
<div class="line">on:</div>
<div class="line">  push:</div>
<div class="line">    branches: [ main ]</div>
<div class="line">  pull_request:</div>
<div class="line">    branches: [ main ]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build-project-a:</div>
<div class="line">    uses: N3b3x/hf-espidf-ci-tools/.github/workflows/build.yml@v1</div>
<div class="line">    with:</div>
<div class="line">      project_dir: projects/project-a</div>
<div class="line">      project_tools_dir: shared-tools  # Shared across all projects</div>
<div class="line">      </div>
<div class="line">  build-project-b:</div>
<div class="line">    uses: N3b3x/hf-espidf-ci-tools/.github/workflows/build.yml@v1</div>
<div class="line">    with:</div>
<div class="line">      project_dir: projects/project-b</div>
<div class="line">      project_tools_dir: shared-tools  # Same shared tools directory</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md258"></a>
ğŸ”§ Advanced Configuration</h1>
<h2><a class="anchor" id="autotoc_md259"></a>
Environment Variables</h2>
<div class="fragment"><div class="line">env:</div>
<div class="line">  ESP32_PROJECT_PATH: &quot;examples/esp32&quot;</div>
<div class="line">  CONFIG_DEFAULT_APP: &quot;main_app&quot;</div>
<div class="line">  CONFIG_DEFAULT_BUILD_TYPE: &quot;Release&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md260"></a>
Matrix Builds</h2>
<div class="fragment"><div class="line">strategy:</div>
<div class="line">  matrix:</div>
<div class="line">    app: [&quot;main_app&quot;, &quot;test_app&quot;, &quot;demo_app&quot;]</div>
<div class="line">    build_type: [&quot;Debug&quot;, &quot;Release&quot;]</div>
<div class="line">    idf_version: [&quot;release/v5.5&quot;, &quot;release/v5.4&quot;]</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md261"></a>
Custom Build Steps</h2>
<div class="fragment"><div class="line">- name: Setup ESP-IDF</div>
<div class="line">  uses: espressif/esp-idf-ci-action@v1</div>
<div class="line">  with:</div>
<div class="line">    esp_idf_version: ${{ matrix.idf_version }}</div>
<div class="line">    target: esp32c6</div>
<div class="line">    path: ${{ matrix.project_dir }}</div>
<div class="line"> </div>
<div class="line">- name: Build Application</div>
<div class="line">  run: |</div>
<div class="line">    cd ${{ matrix.project_dir }}</div>
<div class="line">    ./scripts/build_app.sh ${{ matrix.app }} ${{ matrix.build_type }}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md262"></a>
ğŸš€ Best Practices</h1>
<h2><a class="anchor" id="autotoc_md263"></a>
1. Directory Structure</h2>
<ul>
<li>Keep ESP-IDF projects in dedicated directories (<code>examples/</code>, <code>firmware/</code>, <code>projects/</code>)</li>
<li>Use consistent naming conventions for tools directories</li>
<li>Document your project structure in README files</li>
</ul>
<h2><a class="anchor" id="autotoc_md264"></a>
2. Version Control</h2>
<ul>
<li>Use submodules for production projects</li>
<li>Pin specific versions of the tools repository</li>
<li>Keep tools and project code in separate commits</li>
</ul>
<h2><a class="anchor" id="autotoc_md265"></a>
3. CI/CD Optimization</h2>
<ul>
<li>Use matrix builds for multiple configurations</li>
<li>Cache build artifacts and dependencies</li>
<li>Run tests in parallel when possible</li>
</ul>
<h2><a class="anchor" id="autotoc_md266"></a>
4. Error Handling</h2>
<ul>
<li>Validate project structure before building</li>
<li>Use proper error codes and exit conditions</li>
<li>Provide clear error messages for debugging</li>
</ul>
<h1><a class="anchor" id="autotoc_md267"></a>
ğŸ”— Related Documentation</h1>
<ul>
<li><b><a href="/docs/ci-pipeline/">CI Pipeline</a></b> - Detailed CI pipeline documentation</li>
<li><b><a href="/docs/build-system/">Build System</a></b> - Understanding the build system</li>
<li><b><a href="/docs/configuration/">Configuration</a></b> - YAML configuration management</li>
<li><b><a href="/docs/getting-started/">Getting Started</a></b> - Basic setup and integration </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
